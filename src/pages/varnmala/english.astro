---
import BaseLayout from "@/layouts/Base";
import "@/assets/styles/varnmala/english.css";
import Help from "@/components/Help.astro";
---

<BaseLayout meta={{ title: "English" }}>
  <Fragment slot="header-right">
    <Help
      title="Hindi Varnmala"
      description="Just press any letter from keyboard and it display the letter and it's relative word in clear way and if you type again it will change the color"
    />
  </Fragment>
  <BackButton />
  <article class="container__english">
    <div class="controls" id="controls">
      <div class="control-group">
        <label>Bg:</label>
        <select id="bgSelector">
          <option value="none">None</option>
          <option value="gradient1">G1</option>
          <option value="gradient2">G2</option>
          <option value="pattern1">P1</option>
        </select>
        <button id="toggleBg">Toggle</button>
      </div>

      <div class="control-group">
        <label>Font:</label>
        <select id="fontSelector">
          <option value="Arial">Arial</option>
          <option value="Georgia">Georgia</option>
          <option value="Times New Roman">Times</option>
        </select>
        <input type="color" id="colorPicker" value="#000000" />
      </div>
    </div>
    <Help
      title="Hindi Varnmala"
      description="Just press any letter fron keyboard and it display the letter and it's relative word in clear way and if you type again it will change the color"
    />
  </Fragment>
  <article class="container__hindi">
    <div class="letter">A</div>
  </article>
  <script>
    import { colorBox, isAlphabet, random } from "@/utils/utils.js";

    const letterDiv = document.querySelector(".letter") as HTMLDivElement;

    document.addEventListener(
      "keydown",
      (e) => {
        e.preventDefault();
        const color = random(colorBox);
        const { key, keyCode } = e;
        if (isAlphabet(keyCode)) {
          const keyCapital = key.toUpperCase();
          drawLetter(keyCapital, color);
        }
      },
      false
    );

    const drawLetter = (letter: string, color = "pink") => {
      letterDiv.innerHTML = letter;
      letterDiv.style.color = color;
    };
  </script>
</BaseLayout>
