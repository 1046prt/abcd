---
import "@/assets/styles/tile.css";
import BackButton from "@/components/BackButton.astro";
import LetterCard from "@/components/LetterCard.astro";
import glossaryData from "@/data/glossary.json";
import BaseLayout from "@/layouts/Base";
import { getFlagEmoji } from "@/utils";

const {
  flags: { title, data }
} = glossaryData;

const flagsData = data.map((entry) => ({ ...entry, letter: getFlagEmoji(entry.countryCode) }));
---

<BaseLayout meta={{ title: "Glossary" }}>
  <BackButton href="/glossary" />
  <div class="container__page">
    <div class="page__header">
      <h2 class="page__title">{title}</h2>
      <button id="flip-all-button" class="btn__flip__all">Flip All Cards</button>
    </div>

    <div class="page__content">
      <div class="page__grid">
        {flagsData.map((entry) => <LetterCard item={entry} category="flags" class="flag" />)}
      </div>
    </div>
  </div>
</BaseLayout>
